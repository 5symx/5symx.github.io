{"posts":[{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2023/10/15/hello-world/"},{"title":"Build Hexo with github.io","text":"It is about how to build website on my website. Bingo. Pre-requirement install git, nodejs ((https://github.com/nodejs/node-gyp#on-windows). npm config (avoid using C:) 12npm config set prefix &quot;\\path\\nodejs\\node_global&quot;npm config set cache &quot;\\path\\nodejs\\node_cache&quot; notice: require admin account to “npm install” with config on Windows - check! Installrefer to [2, 3] - check! issue one: Github host key verification failed. solution: input “yes” other than [enter]. Command12345678hexo new &quot;name&quot; # 新建文章hexo new page &quot;name&quot; # 新建页面hexo g # 生成页面hexo d # 部署hexo g -d # 生成页面并部署hexo s # 本地预览hexo clean # 清除缓存和已生成的静态文件hexo help # 帮助 more about configuration https://ppoffice.github.io/hexo-theme-icarus/ Reference[1] Hexo https://hexo.io/zh-cn/docs/writing [2] install https://zhuanlan.zhihu.com/p/60578464 [3] install https://blog.csdn.net/weixin_42365530/article/details/107750003 [4] theme of icarus https://github.com/ppoffice/hexo-theme-icarus [5] related http://doraemonzzz.com/page/3/","link":"/2023/10/15/how-to-build-Hexo-static-website/"},{"title":"Build KVM with InfiniBand","text":"This is about set IB to the virtual machine based on console of libvirt tool. Pre-requirement install kvm SR-IOV configuration in BIOS with iommu in grub.conf 12# check iommucat /proc/cmdline check Mellanox Software Tools (MST) driver for IB 1234tar -zxvf MLNX_OFED_LINUX-4.7-1.0.0.1-ubuntu16.04-x86_64.tgz./mlnxofedinstall mst startmst status -v InstallPart one：non-IB cardstep one: add iommu for SRIOV1234567# add intel_iommu=on iommu=pt pci=assign-busses pci=reallocvim /etc/default/grubgrub2-mkconfig -o /boot/efi/EFI/centos/grub.cfg reboot# checkdmesg | grep IOMMU step two: config SRIOVnetwork card 12345678cat /sys/class/net/enp24s0f0/device/sriov_totalvfsecho 2 &gt; /sys/class/net/enp24s0f0/device/sriov_numvfslspci | grep net # config VF and PFip link set dev enp24s0f0 vf 0 trust onip link set dev enp24s0f0 vf 0 spoof offip link set enp24s0f0 allmulticast on step three : config virsh networkrefer to libvirt network https://www.jianshu.com/p/7bfa2d5e8c9f 123456789101112virsh net-define path/data/temp/sriov-int.xmlvirsh net-autostart sriov-intvirsh net-start sriov-intvirsh net-dumpxml sriov-intvirsh net-dumpxml sriov-int&lt;network&gt; &lt;name&gt;sriov-int&lt;/name&gt; &lt;forward mode='hostdev' managed='yes'&gt; &lt;pf dev='enp24s0f0'/&gt; &lt;/forward&gt;&lt;/network&gt; step four: install and start virsh12345678910111213virt-install \\ -n test --memory 8096 --vcpus 8 \\ -v --accelerate \\ -l /path/data/images/CentOS-7-x86_64-DVD-2009.iso \\ -x 'console=ttyS0' --network network=sriov-int -x 'console=ttyS0' --nographics --os-type=linux \\ --disk path=/path/data/qcow/hostdev-test2,size=10,format=qcow2 \\ --debugvirsh edit test&lt;device&gt; &lt;interface type='network'&gt; &lt;source network='default'/&gt; &lt;/interface&gt; step five: check network123# vm commandping hostipping other hostip Part two：IB card with SRIOVstep one: add iommu for SRIOV same as non-IB card then IB need to config by MSI 12345678mst startmst status -&gt; mt4123_pciconf0mlxconfig -d /dev/mst/mt4123_pciconf0 qmlxconfig -d /dev/mst/mt4123_pciconf0 set SRIOV_EN=1mlxconfig -d /dev/mst/mt4123_pciconf0 set NUM_OF_VFS=4mlxconfig -d /dev/mst/mt4123_pciconf0 query | grep -e SRIOV_EN -e NUM_OF_VFSmlxfwreset -y -d /dev/mst/mt4123_pciconf0 resetreboot step two: config IB SRIOV123456cat /sys/class/infiniband/mlx5_0/device/mlx5_num_vfsecho 4 &gt; /sys/bus/pci/devices/0000:3b:00.0/sriov_numvfsibdev2netdev -vlspci | grep Mell# check sriovip link show ib0 config GUID 12345678check GUIDibstat -d mlx5_0 | grep GUID------echo Follow &gt; /sys/class/infiniband/mlx5_0/device/sriov/0/policy echo b8:83:03:ff:ff:XX:XX:XX &gt; /sys/class/infiniband/mlx5_0/device/sriov/0/node echo b8:83:03:ff:ff:XX:XX:XX &gt; /sys/class/infiniband/mlx5_0/device/sriov/0/portecho 0000:3b:00.1 &gt; /sys/bus/pci/drivers/mlx5_core/unbindecho 0000:3b:00.1 &gt; /sys/bus/pci/drivers/mlx5_core/bind step three: config virsh network with driverinstall driver on vm 123456789101112# vm: copy driver on hostscp root@10.xx.xx.xx:/path/MLNX_OFED_LINUX-23.07-0.5.1.2-rhel7.9-x86_64.tgz /rootyum -y install gcc gcc-c++ perl make kernel-headers kernel-develtar -zxvf MLNX_OFED_LINUX-4.7-1.0.0.1-ubuntu16.04-x86_64.tgz./mlnxofedinstall missing target with yum./mlnxofedinstall--------------/etc/init.d/openibd restartyum update kernel reboot/etc/init.d/openibd restart host config kvm xml 1234567891011# hostlshw -c network -businfolspci|grep -i &quot;virtual function&quot;ibstat -d mlx5_1 | grep GUIDvirsh edit vm-name&lt;hostdev mode='subsystem' type='pci' managed='yes'&gt; &lt;source&gt; &lt;address domain='0x0000' bus='0x3b' slot='0x00' function='0x1'/&gt; &lt;/source&gt;&lt;/hostdev&gt; config IP on VM 1234# vmip aethtool ib0ifconfig ib0 10.xx.xx.xx/24 up ip should be same as host ib0 ip step four: check network12ping host_ib_ipping other_ib_ip take awaySRIOV(single root io virtualization) is for PCI not only for the network. Part three：IB card with PCI passthrough12345678910lspci | grep Mell 0000:3b:00.0 virsh edit test&lt;device&gt; &lt;hostdev mode='subsystem' type='pci' managed='yes'&gt; &lt;source&gt; &lt;address domain='0x0000' bus='0x3b' slot='0x00' function='0x0'/&gt; &lt;/source&gt; &lt;/hostdev&gt; note: reboot with initial kernel Command1234567891011121314151617181920212223# vm configvirsh list --all # kvm listvirsh destroy xxxx # delete kvmvirsh undefine xxxx # delete kvm namevirsh edit xxxx # change configurevirsh shutdown xxxx virsh start xxxx#savevirt-clone --original sunhao-2 --name sunhao-3 --file /path/vm.qcow2 # copy VMvirsh dumpxml test2 &gt; /root/test.xmlcp /path/xxx.qcow2 /root xxx.qcow2# iommuvim /etc/default/grubgrub2-mkconfig -o /boot/efi/EFI/centos/grub.cfg # networklspci | grep netip link show enp24s0f0ifconfig ens3 10.xx.x.x netmask 255.255.255.0ifconfig ib0 10.xx.x.x/24 upping -I ens3 192.168.xxx.xx more about configuration https://www.cnblogs.com/wn1m/p/11280804.html Reference[1] IB with KVM in chinese 1) https://www.jianshu.com/p/2796f8ddf2c2 2) https://www.ctyun.cn/developer/article/401136102674501 [2] IB with KVM official https://enterprise-support.nvidia.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet [3] update grub on Centos7 https://blog.csdn.net/lin521lh/article/details/78316860 [4] add PCI to KVM https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/5/html/virtualization/chap-virtualization-virtualized_guest_installation_overview#doc-wrapper [5] Centos7 iso http://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso [6] virsh with network https://www.jianshu.com/p/7bfa2d5e8c9f [7] Centos iso http://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso","link":"/2023/10/30/how-to-build-kvm-with-IB/"},{"title":"Build LegoOS on KVM with IB","text":"This is about OSDI 2018 best paper “LegoOS: A Disseminated, Distributed OS for Hardware Resource Disaggregation”. It is an open source OS build for disaggregate data center. LegoOS1P-1M on KVM1234# /pathmake defconfigcp Documents/configs/1P-1M-(Processor|Memory) .configmake memory node 123456789101112error -managers/memory/ramfs/piggy.S:15: Error: file not found: usr/general.o-------cd usr/[set CFLAGS := -static in /usr/Makefile]makecd ..make------[set ttyS0=y in .config for output KVM console]make make installreboot - Please wait for enough IB MAD (number: 7) processor node 123# set memmap in /boot/grub2/grub.cfglinux16 /vmlinuz-4.0.0-lego+ memmap=2G\\$4Greboot - Please wait for enough IB MAD (number: 7) useful issues: https://github.com/WukLab/LegoOS/issues/5 https://github.com/WukLab/LegoOS/issues/8 todo: ibswitches MAD number Related workResize KVM123456virsh domblklist hostdev-test2virsh blockresize --path /home/ymx/data/qcow/hostdev-test2 --size 50G hostdev-test2virsh blockresize hostdev-test2 /home/ymx/data/qcow/hostdev-test2 20Greboot# update /dev/mapper/centos-root same as / https://blog.csdn.net/qq_39839075/article/details/107535203 Update Linux kernel1234# method one (same version)yum upadte kernel# method two (different version)(https://blog.csdn.net/alwaysbefine/article/details/108931626) grub to choose which kernel of default 123vim /boot/grub2/grub.cfg # set first to defaultgrub2-set-default 0 Command123# vm save to filevirsh dumpxml vm-test2 &gt; /path/memory.xmlcp /path/vm-test2.qcow2 /path/memory.qcow2 Reference[1] LegoOS https://github.com/WukLab/LegoOS","link":"/2023/11/02/how-to-build-LegoOS/"},{"title":"Build docker on nvidia GPU","text":"This is related to paper “STRONGHOLD: Fast and Affordable Billion-scale Deep Learning Model Training”. It uses V100 to train LLM with data offloading between CPU and GPU. Open source implement is on top of docker. DockerUbuntuhttps://zhuanlan.zhihu.com/p/345972434 test 1docker run --rm --gpus all nvidia/cuda:11.7.1-cudnn8-devel-ubuntu22.04 nvidia-smi tag of https://gitlab.com/nvidia/container-images/cuda/blob/master/doc/supported-tags.md todo : run Megatron-LM on docker Command12docker pulldocker run Reference[1] STRONGHOLD: Fast and Affordable Billion-scale Deep Learning Model Training https://github.com/strongh2/sc22-ae/ [2] Megatron-LM https://epfllm.github.io/Megatron-LLM/guide/getting_started.html","link":"/2023/11/02/how-to-build-docker-with-nvidia/"},{"title":"Duolingo english certification","text":"This is about how to prepare the english certification test, including words, speaking, writing and templates. Readingrecognize words learn with quizlet https://quizlet.com/Sophia_paozilaoshi/folders/75768680/sets from 85 to 105 with the method of spelling exercise with dengdeng, according to the counts of the high score question. fill in the block learn with Mrs Pan videos Speakingread sentences read the PTE RA test on website https://wwwapeunicom/zh-CN/practice/read_alouds/436 do exercise on dengdeng duolingo (first time more than 105 end with 120) describe a picture template of online course https://www.bilibili.com/video/BV1Vg4y1z7pe/?share_source=copy_web&amp;vd_source=ce22b06464a328ac85669c90d5a176c5 method to speak longer https://www.bilibili.com/video/BV1Nt4y117bW/?share_source=copy_web&amp;vd_source=ce22b06464a328ac85669c90d5a176c5 talk about a topic recall the speaking sample of topics electric car; family trip; natural view; elderly activities; food and festival; increase the concentrate-time; spoil of children; history and cultural; study abroad; government health care Writingsummary the interactive listening part template https://zhuanlan.zhihu.com/p/632128657 I was a student, and I bumped into a difficulty with my course. I inquired some help from my classmate and I outlined the circumstances and the problems that I experienced. After that, he guided me that I should find information on the website. I was a student and I encounted a dilemma with a course. I turned to a professor who was quite understanding for advice. And I illustrated the situation and the issues that I coped with. Following that, he furnished me with some suggestions and solutions which were that searching on the website. describe the picture template for people As depicted in the showy, intriguing and engrossing picture, [a blithe elder man wearing whitish clothes is engrossed in looking at a heady cat] with relish, bliss, and ardor. I contend that it is [*not *]a tranquil and scenic day. The vivacious picture depicts clearly a panorama that an enchanting man who has a chestnut skin tone is playing the musical instrument. I speculate that he is really engrossed. I deem that this photo was taken by a professional photographer. template for scenrio As depicted in the showy, intriguing and engrossing picture, there are quantities of horse running in the mountain. I assert that it is not seemingly a tranquil and scenic day. Depicted clearly in this vivacious picture is a panorama of a locally- famed tourist attraction, where we can observe several exquisite objects and the carmine wall. I speculate that it would be a renowned place. summary part one The intriguing snapshot demostrated that xxx The fabulous photo illustrates that xxx This breathtaking and picturesque photo depicts that xxx. the vivacious picture depicts a panorama part one plus Depicted clearly in this vivacious picture As depicted in the intriguing picture. part two I deem that this photo was taken by a professional photographer. I contend that it is [*not *]a tranquil and scenic day. I speculate that it would be a renowned place. I deem that he is really **engrossed / unanimated. color ivory white cerulean blue lime green carmine canary yellow smoky black chestnut skin multicolored describe a topic template for description my view I contend by instinct that this friend should go on vacation, notwithstanding that it is merely my personal standpoint. There are serveral instances and reasons involved thereof. The most notable reason which is of significance is that when this friend goes on a vacation, he can strive hard to be engrossed in broadening his horizons more amply and verily, whereupon it makes him blithe and blissful. heady more effectively and efficiently relish, cheerfulness, and fulfillment Moreover, he can be indulged in interacting with his peers about apt thiings that happened during his vacation with relish, bliss and ardor. Whilst, it is apparent that it is graceful, intriguing and wary. In conclusion, I assert that vacation is seemingly avid and rife. template for two comparison When it comes to the deliberations with regard to taking a vacation, About (题目), different people have entirely dissimilar opinions. Hence, there is an ongoing trend about xxx. Apparently, this controversy about … could be vitally problematic. From my perspective, there are two momentous merits that xxx. There are several quintessential and specific reasons and instances involved thereof. The manifest/explicit sentiment coincide with my standpoint is that xxx. Because it will have a profound effect on people’s life. Additionally, advocates firmly concede that xxx will potentially ameliorate the quality of people’s life. Because xxx. In brief, we can arrive at the undeniable verdict that it is indisputable that xxx. sumary begin with : when; despite; about point of view one: The manifest; The most notable point of view two: Additionally; Moreover conclusion: In brief we can arrive; In conclusion I assert listeningrewrite the audio sentence PTE practise https://ikkedu.com/home/#/index/practiceall/all interactive listening part limited amount of quiz on dengdeng Reference[1] blog of Mrs Pan https://zhuanlan.zhihu.com/p/125359796 [2] CEFR for writing and speaking http://cefrlevels.com/textanalysis/index.html [3] words https://zhuanlan.zhihu.com/p/551301189","link":"/2023/12/10/duolingo-test/"}],"tags":[{"name":"hello","slug":"hello","link":"/tags/hello/"},{"name":"VM","slug":"VM","link":"/tags/VM/"},{"name":"VM; paper","slug":"VM-paper","link":"/tags/VM-paper/"},{"name":"docker","slug":"docker","link":"/tags/docker/"},{"name":"learn","slug":"learn","link":"/tags/learn/"}],"categories":[{"name":"Other","slug":"Other","link":"/categories/Other/"},{"name":"OS","slug":"OS","link":"/categories/OS/"},{"name":"ML","slug":"ML","link":"/categories/ML/"},{"name":"else","slug":"else","link":"/categories/else/"}],"pages":[]}